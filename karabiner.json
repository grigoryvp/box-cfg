{
  "global": {
    "check_for_updates_on_startup": true,
    "show_in_menu_bar": true,
    "show_profile_name_in_menu_bar": false
  },
  "profiles": [{
    "devices": [{
      "disable_built_in_keyboard_if_exists": false,
      "fn_function_keys": [],
      "identifiers": {
        "is_keyboard": true,
        "is_pointing_device": false,
        "product_id": 636,
        "vendor_id": 1452
      },
      "ignore": false,
      "manipulate_caps_lock_led": true,
      "simple_modifications": []
    }],
    "fn_function_keys": [],
    "name": "Default profile",
    "selected": true,
    "simple_modifications": [{
      "from": {"key_code": "tab"},
      "to": {"key_code": "left_control"}
    }, {
      "from": {"key_code": "return_or_enter"},
      "to": {"key_code": "right_control"}
    }],
    "virtual_hid_keyboard": {
        "country_code": 0
    },
    "complex_modifications": {
      "parameters": {
        "basic.simultaneous_threshold_milliseconds": 50,
        "basic.to_delayed_action_delay_milliseconds": 500,
        "basic.to_if_alone_timeout_milliseconds": 1000,
        "basic.to_if_held_down_threshold_milliseconds": 500
      },
      "rules": [{
        "description": "general keyboard mods",
        "manipulators": [
        
        {
          "description": "Use caps lock as 'meta' key to trigger things",
          "from": {
            "key_code": "caps_lock"
          },
          "to": [{
            "set_variable": {
              "name": "_m",
              "value": 1
            }
          }],
          "to_after_key_up": [{
            "set_variable": {
              "name": "_m",
              "value": 0
            }
          }],
          "type": "basic"
        },

        {
          "description": "dual mode 'caps lock': control if not alone",
          "from": {
            "key_code": "left_control",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "left_control",
            "lazy": true
          }],
          "to_if_alone": [{
            "key_code": "tab"
          }],
          "type": "basic"
        },

        {
          "description": "ctrl-enter; before next one",
          "from": {
            "key_code": "right_control",
            "modifiers": {"mandatory": ["left_control"]}
          },
          "to": [{
            "key_code": "return_or_enter",
            "modifiers": ["left_control"]
          }],
          "type": "basic"
        },

        {
          "description": "dual mode 'enter': control if not alone",
          "from": {
            "key_code": "right_control",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "right_control",
            "lazy": true
          }],
          "to_if_alone": [{
            "key_code": "return_or_enter"
          }],
          "type": "basic"
        },

        {
          "description": "meta-open-bracket for escape (vim-like)",
          "from": {
            "key_code": "open_bracket",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "escape"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-close-bracket for switching between apps",
          "from": {
            "key_code": "close_bracket",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "tab",
            "modifiers": ["left_command"]
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-delete for closing apps",
          "from": {
            "key_code": "delete_or_backspace",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "q",
            "modifiers": ["left_command"]
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-p for backspace",
          "from": {
            "key_code": "p",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "delete_or_backspace"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-slash for deleting things",
          "from": {
            "key_code": "slash",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "delete_or_backspace",
            "modifiers": ["left_command"]
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-semicolon for left mouse button",
          "from": {
            "key_code": "semicolon",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "pointing_button": "button1"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-quote for right mouse button",
          "from": {
            "key_code": "quote",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "pointing_button": "button2"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-h for left arrow (vim-like)",
          "from": {
            "key_code": "h",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "left_arrow"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-j for down arrow (vim-like)",
          "from": {
            "key_code": "j",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "down_arrow"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-k for up arrow (vim-like)",
          "from": {
            "key_code": "k",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "up_arrow"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-l for right arrow (vim-like)",
          "from": {
            "key_code": "l",
            "modifiers": {"optional": ["any"]}
          },
          "to": [{
            "key_code": "right_arrow"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-7 for shell",
          "from": {
            "key_code": "7"
          },
          "to": [{
            "shell_command": "open '/Applications/Utilities/Terminal.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-8 for editor",
          "from": {
            "key_code": "8"
          },
          "to": [{
            "shell_command": "open '/Applications/Visual Studio Code.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-9 for browser",
          "from": {
            "key_code": "9"
          },
          "to": [{
            "shell_command": "open '/Applications/Safari.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-0 for messanger(s)",
          "from": {
            "key_code": "0"
          },
          "to": [{
            "shell_command": "open '/Applications/Rambox.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-s-hyphen for password manager",
          "from": {
            "key_code": "hyphen", "modifiers": {"mandatory": ["shift"]}
          },
          "to": [{
            "shell_command": "open '/Applications/KeePassXC.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "meta-| for launchpad",
          "from": {
            "key_code": "backslash"
          },
          "to": [{
            "shell_command": "open '/Applications/Launchpad.app'"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "notification center; requires w-s-| hotkey",
          "from": {
            "key_code": "backslash",
            "modifiers": {"mandatory": ["shift"]}
          },
          "to": [{
            "key_code": "backslash",
            "modifiers": ["shift", "command"]
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "1-st language switch meta-5; requires 'im-select'",
          "from": {
            "key_code": "4"
          },
          "to": [{
            "shell_command": "/usr/local/bin/im-select com.apple.keylayout.ABC"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "2-nd language switch meta-5; requires 'im-select'",
          "from": {
            "key_code": "5"
          },
          "to": [{
            "shell_command": "/usr/local/bin/im-select com.apple.keylayout.RussianWin"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        },

        {
          "description": "3-rd language switch meta-6, requires 'im-select'",
          "from": {
            "key_code": "6"
          },
          "to": [{
            "shell_command": "/usr/local/bin/im-select com.apple.inputmethod.Kotoeri.Japanese"
          }],
          "conditions": [{"type": "variable_if", "name": "_m", "value": 1}],
          "type": "basic"
        }

        ]
      }, {
        "description": "mac specific keyboard mods",
        "manipulators": [

        {
          "description": "control-w => command-w for mac-win consistency",
          "from": {
            "key_code": "w",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "w",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-t => command-t for mac-win consistency",
          "from": {
            "key_code": "t",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "t",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-s-t => command-s-t for mac-win consistency",
          "from": {
            "key_code": "t",
            "modifiers": {"mandatory": ["right_control", "shift"]}
          },
          "to": [{
            "key_code": "t",
            "modifiers": ["left_command", "shift"]
          }],
          "type": "basic"
        },

        {
          "description": "control-c => command-c for mac-win consistency",
          "from": {
            "key_code": "c",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "c",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-v => command-v for mac-win consistency",
          "from": {
            "key_code": "v",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "v",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-s => command-s for mac-win consistency",
          "from": {
            "key_code": "s",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "s",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-a => command-a for mac-win consistency",
          "from": {
            "key_code": "a",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "a",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-f => command-f for mac-win consistency",
          "from": {
            "key_code": "f",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "f",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-z => command-z for mac-win consistency",
          "from": {
            "key_code": "z",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "z",
            "modifiers": ["left_command"]
          }],
          "type": "basic"
        },

        {
          "description": "control-b => command-b for mac-win consistency",
          "from": {
            "key_code": "b",
            "modifiers": {"mandatory": ["right_control"]}
          },
          "to": [{
            "key_code": "b",
            "modifiers": ["left_command"]
          }],
          "conditions": [{
            "type": "frontmost_application_if",
            "bundle_identifiers": [
              "^com\\.apple\\.Safari$"
            ]
          }],
          "type": "basic"
        },

        {
          "description": "control-l => command-l for mac-win consistency",
          "from": {
            "key_code": "l",
            "modifiers": {"mandatory": ["left_control"]}
          },
          "to": [{
            "key_code": "l",
            "modifiers": ["left_command"]
          }],
          "conditions": [{
            "type": "frontmost_application_if",
            "bundle_identifiers": [
              "^com\\.apple\\.Safari$"
            ]
          }],
          "type": "basic"
        }

        ]
      }]
    }
  }]
}
